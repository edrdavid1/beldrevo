# Рекомендации по оптимизации производительности

## Проблемы производительности

### 1. Большие изображения
- **Изображения страниц**: 0.48MB - 1.86MB (слишком большие)
- **Изображения продуктов**: 0.41MB - 0.95MB (большие)

### 2. Множественные setTimeout
- Замедляют инициализацию компонентов
- Создают ненужные задержки

## Выполненные оптимизации

### ✅ Убраны setTimeout
- В `App.ts` - инициализация компонентов сразу
- В `router/index.ts` - инициализация страниц сразу
- В `pages/Home.ts` - инициализация обработчиков сразу
- В `pages/ProductDetail.ts` - инициализация обработчиков сразу

### ✅ Добавлен lazy loading
- `ProductCard.ts` - `loading="lazy"` для изображений товаров
- `ProductDetail.ts` - `loading="lazy"` для миниатюр, `loading="eager"` для главного изображения

### ✅ Добавлен preload для критических изображений
- В `index.html` добавлены preload для изображений главной страницы

## Рекомендации по дальнейшей оптимизации

### 1. Сжать изображения
```bash
# Использовать инструменты типа:
# - ImageOptim (Mac)
# - TinyPNG (онлайн)
# - Squoosh (Google)

# Целевые размеры:
# - Изображения страниц: 200-400KB
# - Изображения продуктов: 100-200KB
```

### 2. Конвертировать в WebP
```bash
# WebP обеспечивает лучшее сжатие
# Добавить fallback для старых браузеров
```

### 3. Добавить srcset для адаптивных изображений
```html
<img src="image.jpg" 
     srcset="image-300w.jpg 300w,
             image-600w.jpg 600w,
             image-900w.jpg 900w"
     sizes="(max-width: 600px) 300px,
            (max-width: 900px) 600px,
            900px"
     alt="Описание">
```

### 4. Оптимизировать CSS
- Убрать неиспользуемые стили
- Минифицировать CSS
- Разделить CSS на критические и некритические части

### 5. Добавить кэширование
```html
<!-- В index.html -->
<meta http-equiv="Cache-Control" content="max-age=31536000">
```

### 6. Оптимизировать шрифты
```html
<!-- Предзагрузить шрифты -->
<link rel="preload" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,500,700&display=swap" as="style">
```

## Мониторинг производительности

### Chrome DevTools
1. Открыть DevTools (F12)
2. Перейти на вкладку Performance
3. Нажать "Record" и выполнить действия
4. Анализировать метрики:
   - First Contentful Paint (FCP)
   - Largest Contentful Paint (LCP)
   - Time to Interactive (TTI)

### Lighthouse
1. Открыть DevTools
2. Перейти на вкладку Lighthouse
3. Выбрать "Performance"
4. Нажать "Generate report"

## Ожидаемые улучшения
После оптимизации изображений:
- Уменьшение времени загрузки на 40-60%
- Улучшение Core Web Vitals
- Лучший пользовательский опыт 